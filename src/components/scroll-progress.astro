---
// Swiss-style scroll progress indicator
---

<div class="scroll-progress" aria-hidden="true">
  <div class="progress-track">
    <div class="progress-fill" id="scroll-progress-fill"></div>
  </div>
  <div class="progress-marker"></div>
</div>

<style>
  .scroll-progress {
    position: fixed;
    top: 64px;
    left: 0;
    width: 100%;
    height: 4px;
    z-index: calc(var(--z-nav) - 1);
    background: var(--color-border);
  }

  .progress-track {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: var(--color-primary);
    width: 0%;
    transition: width 160ms cubic-bezier(0.22, 1, 0.36, 1);
  }

  .progress-marker {
    position: absolute;
    top: 0;
    right: 0;
    width: 8px;
    height: 8px;
    background: var(--color-primary);
    transform: translateY(-2px) rotate(45deg);
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const fill = document.getElementById("scroll-progress-fill");
    if (!fill) return;

    const updateProgress = () => {
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight;
      const scrollTop = window.scrollY;
      const maxScroll = documentHeight - windowHeight;
      const scrollPercentage = (scrollTop / maxScroll) * 100;
      fill.style.width = `${Math.min(scrollPercentage, 100)}%`;
    };

    window.addEventListener("scroll", updateProgress, { passive: true });
    updateProgress();
  });
</script>
