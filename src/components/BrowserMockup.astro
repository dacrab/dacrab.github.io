---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';

interface Props {
  src: ImageMetadata;
  alt: string;
  url?: string;
  class?: string;
}

const { src, alt, url, class: className } = Astro.props;
---

<div class:list={['browser-mockup group relative', className]}>
  <!-- Browser Chrome -->
  <div class="flex items-center gap-2 rounded-t-lg bg-zinc-800 px-4 py-3">
    <div class="flex gap-1.5">
      <span class="h-3 w-3 rounded-full bg-zinc-600"></span>
      <span class="h-3 w-3 rounded-full bg-zinc-600"></span>
      <span class="h-3 w-3 rounded-full bg-zinc-600"></span>
    </div>
    {url && (
      <div class="ml-4 flex-1 rounded-md bg-zinc-900 px-3 py-1">
        <span class="font-mono text-xs text-zinc-500 truncate block">{url}</span>
      </div>
    )}
  </div>
  
  <!-- Screen -->
  <div class="relative overflow-hidden rounded-b-lg bg-zinc-900">
    <Image
      src={src}
      alt={alt}
      class="w-full transition-transform duration-700 ease-out group-hover:scale-105"
      quality={90}
    />
  </div>
  
  <!-- Hover glow effect -->
  <div class="pointer-events-none absolute inset-0 rounded-lg opacity-0 shadow-2xl shadow-white/5 transition-opacity duration-500 group-hover:opacity-100"></div>
</div>
