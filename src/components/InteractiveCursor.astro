<div 
  id="cursor" 
  class="fixed top-0 left-0 w-3 h-3 bg-white rounded-full pointer-events-none z-[100] mix-blend-difference transition-transform duration-100 ease-out -translate-x-1/2 -translate-y-1/2 hidden md:block"
></div>
<div 
  id="cursor-follower" 
  class="fixed top-0 left-0 w-10 h-10 border border-white/30 rounded-full pointer-events-none z-[99] mix-blend-difference transition-transform duration-300 ease-out -translate-x-1/2 -translate-y-1/2 hidden md:block"
></div>

<script>
  import gsap from "gsap";

  const cursor = document.getElementById("cursor");
  const follower = document.getElementById("cursor-follower");
  
  let mouseX = 0;
  let mouseY = 0;
  let cursorX = 0;
  let cursorY = 0;
  let followerX = 0;
  let followerY = 0;

  document.addEventListener("mousemove", (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  gsap.ticker.add(() => {
    const dt = 1.0 - Math.pow(1.0 - 0.2, gsap.ticker.deltaRatio());
    const dtFollower = 1.0 - Math.pow(1.0 - 0.1, gsap.ticker.deltaRatio());

    cursorX += (mouseX - cursorX) * dt;
    cursorY += (mouseY - cursorY) * dt;
    
    followerX += (mouseX - followerX) * dtFollower;
    followerY += (mouseY - followerY) * dtFollower;

    if (cursor && follower) {
      cursor.style.transform = `translate3d(${cursorX}px, ${cursorY}px, 0)`;
      follower.style.transform = `translate3d(${followerX}px, ${followerY}px, 0)`;
    }
  });

  // Hover effects
  const hoverables = document.querySelectorAll("a, button, .magnetic");
  
  hoverables.forEach((el) => {
    el.addEventListener("mouseenter", () => {
      gsap.to(cursor, { scale: 0 });
      gsap.to(follower, { scale: 1.5, backgroundColor: "white", mixBlendMode: "difference" });
    });
    
    el.addEventListener("mouseleave", () => {
      gsap.to(cursor, { scale: 1 });
      gsap.to(follower, { scale: 1, backgroundColor: "transparent" });
    });
  });
</script>
